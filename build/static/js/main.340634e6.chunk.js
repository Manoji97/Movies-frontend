(this["webpackJsonpmovies-react"]=this["webpackJsonpmovies-react"]||[]).push([[0],{49:function(e,t,a){e.exports=a(77)},54:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),i=a.n(s),o=(a(54),a(2)),c=a(3),l=a(5),u=a(4),m=a(6),p=(a(10),a(15)),d=a.n(p),v=a(9),g=a(1),h=function(e){var t="password"===e.type?"password":"text";return r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{value:e.value,id:e.id,type:t,className:"".concat(e.valid," center-align"),placeholder:e.placeholder,onChange:function(t){return e.onchange(t)}}),r.a.createElement("label",{className:"active",htmlFor:"first_name2"},e.label))},f=function(e){var t=e.config.valid?"valid":"invalid";return r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{value:e.config.value,id:e.config.id,type:e.config.type,className:"".concat(t," center-align"),placeholder:e.config.placeholder,onChange:function(t){return e.onchange(t)}}),r.a.createElement("label",{className:"active",htmlFor:""},e.config.label),r.a.createElement("span",{className:"helper-text","data-error":e.config.errormessage,"data-success":""}))},b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=!0,r="";for(var s in t)switch(s){case"required":t[s]&&(n&=""!==e.trim()),r=n?"":"This Field is Requird";break;case"minlength":r=(n&=e.length>=t[s])?"":"The Minimum length is ".concat(t[s]);break;case"confirm":r=(n&=e===a)?"":"Your Passwords do not match"}return{isvalid:n,errormessage:r}},E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){d.a.FormSelect.init(this.select,{})}},{key:"render",value:function(){var e=this,t=[r.a.createElement("option",{key:0,value:"",defaultValue:!0},"Choose your option")];return this.props.options.map((function(e){t.push(r.a.createElement("option",{key:e.value,value:e.value},e.inner))})),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("select",{id:this.props.id,onChange:this.props.select,ref:function(t){e.select=t}},t),r.a.createElement("label",null,this.props.label))}}]),t}(n.Component),_=a(18),y=a(8),N=a(24),w=a.n(N),O=(w.a,w.a.create({baseURL:"http://localhost/"})),j=w.a.create({baseURL:"http://localhost/api/movies/"}),k=w.a.create({baseURL:"http://localhost/api/genresall/"}),x=w.a.create({baseURL:"http://localhost/api/"});x.defaults.headers["Content-Type"]="application/json";var L=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"loading",value:e}},S=function(e,t){return{type:"singleHomeLoad",value:e,searchstring:t}},C=function(e){var t="";for(var a in e)"page"!==a&&(t+=""!==e[a]?"&".concat(a,"=").concat(e[a]):"");var n=t=t.slice(1);return{query:t,querywithpage:n+=e.page?"&page=".concat(e.page):""}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t="/?",a=C(e.query);return t+=a.querywithpage,function(e){e(L(!0)),j.get(t).then((function(t){e(S(t.data,"/?"+a.query))})).catch((function(){return e({type:"PageLoadFail"})}))}}return function(e){e(L(!0)),j.get().then((function(t){e(S(t.data,"/?"))})).catch((function(){return e({type:"PageLoadFail"})}))}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"pagenumone",value:e}},R={"Content-Type":"application/json"},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"updateRating",value:{message:e,newrating:t}}},U=function(e,t){return{type:"doLogin",value:{success:e,logedindata:t}}},T=function(e){return{type:"OpenModal",value:e}},F=function(e,t){return{type:"Register",value:{success:e,registerdata:t}}},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"LoadRecommendations",value:{success:e,recommendations:t}}},A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search:{title:"",genre:"",year:"",rating:""}},a.create_optionslist=function(e,t){for(var a=[],n=t;n>=e;n--)a.push({value:n,inner:n});return a},a.genreslist=[{value:"Action",inner:"Action"},{value:"Adventure",inner:"Adventure"},{value:"Horror",inner:"Horror"}],a.yearlist=a.create_optionslist(2e3,(new Date).getFullYear()),a.ratinglist=a.create_optionslist(4,9),a.name_handler=function(e){a.setState({search:Object(g.a)({},a.state.search,{title:e.target.value})})},a.select_handler=function(e){switch(e.target.id){case"genre":a.setState({search:Object(g.a)({},a.state.search,{genre:e.target.value})});break;case"year":a.setState({search:Object(g.a)({},a.state.search,{year:e.target.value})});break;case"rating":a.setState({search:Object(g.a)({},a.state.search,{rating:e.target.value})})}},a.search_handler=function(e){e.preventDefault();var t=""!==a.state.search.title?"title="+a.state.search.title:"";t+=""!==a.state.search.genre?"&genre="+a.state.search.genre:"",t+=""!==a.state.search.year?"&year="+a.state.search.year:"",t+=""!==a.state.search.rating?"&rating="+a.state.search.rating:"",a.props.history.push("/?"+t),a.props.p_pagenum()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"col s12"},r.a.createElement(h,{placeholder:"Enter Movie Name",label:"Movie Name",onchange:this.name_handler})),this.props.p_genrelist.length>0?r.a.createElement("div",{className:"col s12"},r.a.createElement(E,{id:"genre",label:"Genres Select",options:this.props.p_genrelist,select:this.select_handler})):null,r.a.createElement("div",{className:"col s12"},r.a.createElement(E,{id:"year",label:"year Select",options:this.yearlist,select:this.select_handler})),r.a.createElement("div",{className:"col s12"},r.a.createElement(E,{id:"rating",label:"rating Select",options:this.ratinglist,select:this.select_handler})),r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement("a",{id:"search-btn",className:"waves-effect waves-light btn",onClick:function(t){e.search_handler(t)}},r.a.createElement("i",{className:"material-icons right"},"search"),"Search")))}}]),t}(n.Component),P=Object(_.f)(Object(y.b)((function(e){return{p_genrelist:e.movie.genrelist}}),(function(e){return{p_pagenum:function(){return e(M())}}}))(A)),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:{id:"username",type:"text",placeholder:"Enter User Name",label:"User Name",value:"",validity_rules:{required:!0},valid:!0,errormessage:"",eddited:!1},password:{id:"password",placeholder:"Enter Password",label:"Password",type:"password",value:"",validity_rules:{required:!0},valid:!0,errormessage:"",eddited:!1},message:""},a.handler=function(e){var t;switch(e.target.id){case"username":t=b(e.target.value,a.state.username.validity_rules),a.setState({username:Object(g.a)({},a.state.username,{value:e.target.value,valid:t.isvalid,errormessage:t.errormessage,eddited:!0})});break;case"password":t=b(e.target.value,a.state.password.validity_rules),a.setState({password:Object(g.a)({},a.state.password,{value:e.target.value,valid:t.isvalid,errormessage:t.errormessage,eddited:!0})})}},a.Login=function(e){e.preventDefault(),a.state.username.valid&a.state.username.eddited&a.state.password.valid&a.state.password.eddited?(a.props.performLogin({username:a.state.username.value,password:a.state.password.value}),a.props.history.push("/")):a.setState({message:"Fill all the Fields correctly"})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){""!==this.props.user_data.errormessage&this.props.user_data.errormessage!==e.user_data.errormessage&&this.setState({message:this.props.user_data.errormessage})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"row"},r.a.createElement("img",{id:"userimage",className:"materialboxed",width:"200",height:"200",src:"sample-1.jpg"}),r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement(v.b,{id:"search-btn",className:"waves-effect waves-light btn",onClick:function(){return e.props.performLogout()}},"Logout"))),a=r.a.createElement("form",{className:"col s12",onSubmit:function(t){return e.Login(t)}},r.a.createElement("div",{className:"col s12"},r.a.createElement(f,{config:this.state.username,onchange:this.handler})),r.a.createElement("div",{className:"col s12"},r.a.createElement(f,{config:this.state.password,onchange:this.handler})),r.a.createElement("p",{className:"red-text"},this.state.message),r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement("input",{type:"submit",id:"search-btn",className:"waves-effect waves-light btn white-text",value:"Login"})),r.a.createElement("div",{className:"col s12 center-align signup"},r.a.createElement("a",{id:"search-btn",className:"waves-effect waves-light btn",onClick:function(t){t.preventDefault(),e.props.openModal(!0)}},"SignUP")));return r.a.createElement("div",{id:"user",className:"row"},r.a.createElement("div",{id:"login_form",className:"row"},this.props.user_data.isLoggedin?t:a))}}]),t}(n.Component),Y=Object(_.f)(Object(y.b)((function(e){return{user_data:e.user_info.user}}),(function(e){return{performLogin:function(t){return e(function(e){return function(t){O.post("auth/",e).then((function(a){localStorage.setItem("Token",a.data.token),localStorage.setItem("Username",e.username),t(U(!0,{username:e.username,token:a.data.token}))})).catch((function(e){return t(U(!1,e.response.data))}))}}(t))},performLogout:function(){return e((localStorage.removeItem("Token"),localStorage.removeItem("Username"),{type:"doLogout"}))},openModal:function(t){return e(T(t))}}}))(G)),H=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){d.a.Tabs.init(this.Tabs)}},{key:"render",value:function(){var e=this;return r.a.createElement("ul",null,r.a.createElement("div",{className:"row Search"},r.a.createElement("div",{className:"col s12"},r.a.createElement("ul",{className:"tabs",ref:function(t){e.Tabs=t}},r.a.createElement("li",{className:"tab col s6"},r.a.createElement("a",{href:"#search"},"Search")),r.a.createElement("li",{className:"tab col s6"},r.a.createElement("a",{href:"#user",className:"active"},"User"))))),r.a.createElement("div",{id:"search",className:"row"},r.a.createElement(P,null)),r.a.createElement("div",{id:"user",className:"row"},r.a.createElement(Y,null)))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={scrolled:!0},a.clickLogo=function(){a.props.p_pagenum()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.Sidenav.init(this.sidenav,{}),document.addEventListener("scroll",(function(){var t=window.scrollY<64;t!==e.state.scrolled&&e.setState({scrolled:t})})),this.props.p_getGenreList()}},{key:"render",value:function(){var e=this,t="transparent",a="rgb(41, 41, 41, 0.97)";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",{style:{background:this.state.scrolled?t:a}},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{href:"#",onClick:function(e){return e.preventDefault()},"data-target":"slide-out",className:"sidenav-trigger show-on-medium-and-up"},r.a.createElement("i",{className:"acc material-icons"},"account_circle")),r.a.createElement(v.b,{to:"/",onClick:this.clickLogo,className:"brand-logo center"},"Movies"))))),r.a.createElement("div",{id:"slide-out",className:"sidenav",ref:function(t){return e.sidenav=t}},r.a.createElement("h5",null,this.props.pusername),r.a.createElement(H,null)))}}]),t}(n.Component),J=Object(y.b)((function(e){return{pusername:e.user_info.user.username}}),(function(e){return{p_pagenum:function(){return e(M())},p_getGenreList:function(){return e((function(e){k.get().then((function(t){return e({type:"getGenreList",value:t.data.results})})).catch((function(e){return console.log(e)}))}))}}}))(z),V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mainsearch:""},a.onchange_handler=function(e){a.setState({mainsearch:e.target.value})},a.handle_enter=function(e){"Enter"===e.key&&(a.state.mainsearch.length>0?a.props.history.push("/?ms="+a.state.mainsearch):a.props.history.push("/"),a.props.p_pagenum())},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"main-search"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("i",{className:"material-icons prefix"},"search"),r.a.createElement("input",{placeholder:"Enter Search Text",type:"text",className:"validate center-align",onChange:function(t){return e.onchange_handler(t)},onKeyDown:function(t){return e.handle_enter(t)}}))))}}]),t}(n.Component),W=Object(_.f)(Object(y.b)(null,(function(e){return{p_pagenum:function(){return e(M())}}}))(V)),X=a(19),B=a(20);function K(){var e=Object(X.a)(["\n  text-align: center;\n"]);return K=function(){return e},e}function Q(){var e=Object(X.a)(["\n  padding: 10px 20px;\n  position: absolute;\n  color: white;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  top: ",";\n  height: 100px;\n  align-items: center;\n"]);return Q=function(){return e},e}function Z(){var e=Object(X.a)(["\n  padding: 10px 20px;\n  position: absolute;\n  color: white;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  bottom: 200px;\n  height: auto;\n"]);return Z=function(){return e},e}function $(){var e=Object(X.a)(["\n  background: linear-gradient(0deg, black 40%, transparent);\n  position: absolute;\n  height: ",";\n  width: 100%;\n  top: 0;\n  transition: all 0.5s ease;\n\n  ",":hover & {\n    top: ",";\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(X.a)(["\n  height: auto;\n  top: 0;\n  left: 0;\n  width: 100%;\n  transition: all 0.5s ease;\n\n  ",":hover & {\n    top: -10px;\n    filter: blur(5px);\n    transform: scale(1.1);\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(X.a)(["\n  height: ",";\n  width: 100%;\n"]);return te=function(){return e},e}function ae(){var e=Object(X.a)(["\n  margin: 20px auto;\n  position: relative;\n  height: ",";\n  width: ",";\n  background: #2196f378;\n  overflow: hidden;\n  transition: all 0.5s ease;\n  cursor: pointer;\n  font-size: ",";\n  border-radius: 5px;\n  border: 3px solid rgb(222, 222, 222);\n  box-shadow: 0 5px 10px rgb(47, 39, 46);\n\n  &:hover {\n    border: 3px solid #73ad21;\n  }\n"]);return ae=function(){return e},e}var ne="300px",re="220px",se="1.5rem",ie="-130px",oe="320px",ce="500px",le="300px",ue="230px",me="170px",pe="1rem",de="-100px",ve="250px",ge="430px",he="230px",fe=B.a.div(ae(),(function(e){return e.small?ue:ne}),(function(e){return e.small?me:re}),(function(e){return e.small?pe:se})),be=B.a.div(te(),(function(e){return e.small?ve:oe})),Ee=B.a.img(ee(),fe),_e=B.a.div($(),(function(e){return e.small?ge:ce}),fe,(function(e){return e.small?de:ie})),ye=B.a.div(Z()),Ne=B.a.div(Q(),(function(e){return e.small?he:le})),we=B.a.span(K()),Oe=function(e){return r.a.createElement(fe,{small:!0},r.a.createElement(v.b,{to:e.detail_link},r.a.createElement(be,{small:!0},r.a.createElement(Ee,{src:e.image_link,alt:""}),r.a.createElement(_e,{small:!0},r.a.createElement(ye,null,r.a.createElement(we,null,e.movie_name)),r.a.createElement(Ne,{small:!0},r.a.createElement(we,null,e.movie_rating))))))},je=function(e){return r.a.createElement(fe,null,r.a.createElement(v.b,{to:e.detail_link},r.a.createElement(be,null,r.a.createElement(Ee,{src:e.image_link,alt:""}),r.a.createElement(_e,null,r.a.createElement(ye,null,r.a.createElement(we,null,e.movie_name)),r.a.createElement(Ne,null,r.a.createElement(we,null,e.movie_rating))))))},ke=function(e){var t,a=Math.ceil(e.count/10),n=e.presentpage;return t=function(e,t){var a=[];for(e-=2;a.length<5&t>=e;)e>=1&&a.push(e),e+=1;return a}(n,a).map((function(t){var a=t===n?"active":"waves-effect";return r.a.createElement("li",{className:a,key:t,onClick:function(a){return e.onclick(a,t)}},r.a.createElement("a",{href:"#",className:"white-text"},t))})),r.a.createElement("footer",{className:"center-align"},r.a.createElement("p",{className:"white-text"},e.count," Search results.(",a," pages)"),r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:n>1?"waves-effect":"disabled",onClick:function(t){return e.onclick(t,n-1)}},r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:n>1?"material-icons white-text":"material-icons grey-text"},"chevron_left"))),t,r.a.createElement("li",{className:n<a?"waves-effect":"disabled",onClick:function(t){return e.onclick(t,n+1)}},r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:n<a?"material-icons white-text":"material-icons grey-text"},"chevron_right")))))},xe=a(32),Le=a.n(xe),Se=function(){return r.a.createElement("div",{className:"preloader-wrapper big active load"},r.a.createElement("div",{className:"spinner-layer spinner-red-only"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))))},Ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={pagenumber:a.props.p_statepage},a.get_searchparam=function(e){if(e){var t=Object.keys(e).length>0;if(t)return 1===t&&e.page?{searchtype:"pagination",query:e.page}:e.ms?{search_type:"mainsearch",query:{ms:e.ms,page:e.page?e.page:""}}:{search_type:"search",query:{title:e.title?e.title:"",rating:e.rating?e.rating:"",year:e.year?e.year:"",genre:e.genre?e.genre:"",page:e.page?e.page:""}}}return null},a.handle_request=function(e,t){e.preventDefault(),a.setState({pagenumber:t},(function(){a.props.history.push(a.props.p_searchurl+"&page="+a.state.pagenumber),a.props.p_pagenum(t)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location.search|"/"===this.props.location.pathname){var e=Le.a.parse(this.props.location.search);this.props.performLoad(this.get_searchparam(e))}}},{key:"componentDidUpdate",value:function(e){if(e.location.search!==this.props.location.search){var t=Le.a.parse(this.props.location.search);this.props.performLoad(this.get_searchparam(t))}}},{key:"render",value:function(){var e=this.props.pmoviedata_list,t=e.results.map((function(e){return r.a.createElement("div",{className:"col s12 m6 l4 xl3",key:e.id},r.a.createElement(je,{detail_link:"/"+e.id,image_link:e.Image_link,movie_name:e.Title,movie_rating:e.Rating}))})),a=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},t),r.a.createElement(ke,{onclick:this.handle_request,count:e.count,presentpage:this.props.p_statepage}));return r.a.createElement("section",{className:"main"},this.props.p_isloading?r.a.createElement(Se,null):""!==this.props.p_commonerror?r.a.createElement("p",null,this.props.p_commonerror):a)}}]),t}(n.Component),De=Object(y.b)((function(e){return{pmoviedata_list:e.movie.datalist,p_searchurl:e.movie.searchstring,p_statepage:e.movie.pagenumber,p_isloading:e.movie.isLoading,p_commonerror:e.movie.commonerror}}),(function(e){return{performLoad:function(t){return e(D(t))},p_pagenum:function(t){return e(M(t))}}}))(Ce),Me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={edit:!1,original:a.props.rating?a.props.rating:0,rating:a.props.rating?a.props.rating:0,temp_rating:0},a.onclick=function(e){a.state.edit&&a.setState({rating:e})},a.onmouseover=function(e){a.state.edit&&a.setState({temp_rating:e})},a.onmouseout=function(e){a.state.edit&&a.setState({temp_rating:e})},a.edithandler=function(){a.props.p_isloggedin?a.setState((function(e){return{edit:!e.edit,rating:e.original}})):d.a.toast({html:"You have to Loggin to add Rating"})},a.sendrating=function(){a.setState((function(e){return{original:e.rating,edit:!1}}),(function(){a.props.update_userrating(a.props.movieId,a.props.p_token,{newRate:a.state.original})}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.props.p_isloggedin||this.state.edit&&this.setState({edit:!1})}},{key:"render",value:function(){for(var e=this,t=[],a="material-icons ",n=function(n){a+=n<=e.state.rating|n<=e.state.temp_rating?"yellow-text":"grey-text",t.push(r.a.createElement("i",{className:a,key:n,onClick:function(){return e.onclick(n)},onMouseOver:function(){return e.onmouseover(n)},onMouseOut:e.onmouseout},"star")),a="material-icons "},s=1;s<=5;s++)n(s);var i=r.a.createElement("i",{className:"material-icons c teal-text",onClick:this.sendrating},"check");return r.a.createElement("div",{className:"star"},t,this.state.edit?i:null,r.a.createElement("i",{className:"material-icons right yellow-text tooltipped","data-position":"top","data-tooltip":"You have to Loggin to add Rating",onClick:this.edithandler},"create"),r.a.createElement("p",{className:"white-text"},this.props.p_message))}}]),t}(n.Component),Re=Object(y.b)((function(e){return{p_isloggedin:e.user_info.user.isLoggedin,p_token:e.user_info.user.token,p_message:e.movie.movieratingmessage}}),(function(e){return{update_userrating:function(t,a,n){return e(function(e,t,a){return function(n){j.post("".concat(e,"/rate_movie/"),a,{headers:Object(g.a)({},R,{Authorization:"Token ".concat(t)})}).then((function(e){return n(I("Successful",e.data.result.rating))})).catch((function(e){return n(I("Failed"))}))}}(t,a,n))}}}))(Me),Ie=function(e){for(var t=Math.ceil(e.rating/2),a=[],n="material-icons ",s=1;s<=5;s++)n+=s<=t?"yellow-text":"grey-text",a.push(r.a.createElement("i",{className:n,key:s},"star")),n="material-icons ";return r.a.createElement("div",{className:"star"},a)},Ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).joingenres=function(e){if(e)return e.map((function(e){return e.genre})).join(", ")},a.joinnames=function(e){if(e)return e.map((function(e){return e.Name})).join(", ")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.performgoDetail(this.props.movieId,this.props.p_token)}},{key:"componentDidUpdate",value:function(e){e.movieId!=this.props.movieId&&this.props.performgoDetail(this.props.movieId,this.props.p_token)}},{key:"render",value:function(){return r.a.createElement("section",{className:"mian"},r.a.createElement("div",{className:"movie-detail row"},r.a.createElement("div",{className:"col s12 m5 l4"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:this.props.pmovie_data.Image_link,alt:""}))),r.a.createElement("div",{className:"col s12 m7 l8"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"Title")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},this.props.pmovie_data.Title))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"Runtime")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},this.props.pmovie_data.RunTime))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"Genres")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},this.joingenres(this.props.pmovie_data.Genres)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"Imdb Rating")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},r.a.createElement(Ie,{rating:this.props.pmovie_data.Imdb_rating})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"No of users rated")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},this.props.pmovie_data.Num_ratings))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"your Rating")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},r.a.createElement(Re,{rating:this.props.pmovie_data.Your_rating,movieId:this.props.movieId})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"Directors")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},this.joinnames(this.props.pmovie_data.Directors)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 l4"},r.a.createElement("p",{className:"key"},"Writers")),r.a.createElement("div",{className:"col m6 l8"},r.a.createElement("p",{className:"value"},this.joinnames(this.props.pmovie_data.Writers))))))))}}]),t}(n.Component),Te=Object(y.b)((function(e){return{pmovie_data:e.movie.moviedata,p_token:e.user_info.user.token}}),(function(e){return{performgoDetail:function(t,a){return e(function(e,t){var a=R;return""!==t&&(a=Object(g.a)({},R,{Authorization:"Token ".concat(t)})),function(t){j.get("/"+e,{headers:a}).then((function(e){t({type:"goDetial",value:e.data})})).catch((function(){return t({type:"PageLoadFail"})}))}}(t,a))}}}))(Ue),Fe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.p_get_recommendations(this.props.movieId)}},{key:"componentDidUpdate",value:function(e){e.movieId!=this.props.movieId&&this.props.p_get_recommendations(this.props.movieId)}},{key:"render",value:function(){var e=this.props.p_recommendation_lst.map((function(e){return r.a.createElement("div",{className:"col s12 m6 l4 xl3",key:e.id},r.a.createElement(Oe,{detail_link:"/"+e.id,image_link:e.Image_link,movie_name:e.Title,movie_rating:e.Rating}))}));return r.a.createElement("div",{class:"recommendations"},r.a.createElement("div",{class:"center-align label"},r.a.createElement("p",null,"RECOMMENDATIONS")),r.a.createElement("div",{class:"recommend_wrapper"},r.a.createElement("div",{class:"mod_row"},e)))}}]),t}(n.Component),qe=Object(y.b)((function(e){return{p_recommendation_lst:e.recommendations.recommendations}}),(function(e){return{p_get_recommendations:function(t){return e(function(e){return function(t){j.get("/"+e+"/get_Recommendations/").then((function(e){t(q(!0,e.data))})).catch((function(){return t(q(!1))}))}}(t))}}}))(Fe),Ae=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.pstartloading()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.props.pstartloading()}},{key:"render",value:function(){console.log(this.props.match.params.id);var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{movieId:this.props.match.params.id}),r.a.createElement(qe,{movieId:this.props.match.params.id}));return this.props.p_isloading?r.a.createElement(Se,null):""!==this.props.p_commonerror?r.a.createElement("p",null,this.props.p_commonerror):e}}]),t}(n.Component),Pe=Object(y.b)((function(e){return{p_isloading:e.movie.isLoading,p_commonerror:e.movie.commonerror}}),(function(e){return{pstartloading:function(){return e(L())}}}))(Ae),Ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:{id:"newusername",type:"text",placeholder:"Enter User Name",label:"User Name",value:"",validity_rules:{required:!0,minlength:3},valid:!0,errormessage:"",eddited:!1},password:{id:"signuppassword",placeholder:"Enter Password",label:"Password",type:"password",value:"",validity_rules:{required:!0,minlength:4},valid:!0,errormessage:"",eddited:!1},confirmpassword:{id:"confirmpassword",placeholder:"Renter Password",label:"Confirm Password",type:"password",value:"",validity_rules:{confirm:!0},valid:!0,errormessage:"",eddited:!1},message:""},a.signupmodal=null,a.handler=function(e){var t;switch(e.preventDefault(),e.target.id){case"newusername":t=b(e.target.value,a.state.username.validity_rules),a.setState({username:Object(g.a)({},a.state.username,{value:e.target.value,valid:t.isvalid,errormessage:t.errormessage,eddited:!0})});break;case"signuppassword":t=b(e.target.value,a.state.password.validity_rules),a.setState({password:Object(g.a)({},a.state.password,{value:e.target.value,valid:t.isvalid,errormessage:t.errormessage,eddited:!0})});break;case"confirmpassword":t=b(e.target.value,a.state.confirmpassword.validity_rules,a.state.password.value),a.setState({confirmpassword:Object(g.a)({},a.state.confirmpassword,{value:e.target.value,valid:t.isvalid,errormessage:t.errormessage,eddited:!0})})}},a.onRegister=function(e){e.preventDefault(),a.state.username.valid&a.state.username.eddited&a.state.password.valid&a.state.password.eddited&a.state.confirmpassword.valid&a.state.confirmpassword.eddited?a.props.performRegister({username:a.state.username.value,password:a.state.password.value}):a.setState({message:"Fill all the Fields correctly"})},a.onclose=function(e){a.props.openModal(!1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.signupmodal=d.a.Modal.init(this.Modal,{dismissible:!1})}},{key:"componentDidUpdate",value:function(e){this.props.isOpen?this.signupmodal.open():0==this.props.isOpen&&this.signupmodal.close(),e.p_registeration.success!==this.props.p_registeration.success&&this.setState({message:"Successful!"}),""!==this.props.p_registeration.usernameerror&e.p_registeration.usernameerror!==this.props.p_registeration.usernameerror&&this.setState({username:Object(g.a)({},this.state.username,{errormessage:this.props.p_registeration.usernameerror,valid:!1})}),""!==this.props.p_registeration.passworderror&e.p_registeration.passworderror!==this.props.p_registeration.errormessage&&this.setState({username:Object(g.a)({},this.state.password,{errormessage:this.props.p_registeration.passworderror,valid:!1})})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{ref:function(t){e.Modal=t},className:"modal",onSubmit:function(t){return e.onRegister(t)}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"SIGN UP"),r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"col s12"},r.a.createElement(f,{config:this.state.username,onchange:this.handler})),r.a.createElement("div",{className:"col s12"},r.a.createElement(f,{config:this.state.password,onchange:this.handler})),r.a.createElement("div",{className:"col s12"},r.a.createElement(f,{config:this.state.confirmpassword,onchange:this.handler})),r.a.createElement("p",{className:"blue-text"},this.state.message))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("input",{type:"submit",className:"waves-effect waves-blue btn blue register_btn",value:"Register"}),r.a.createElement(v.b,{className:"modal-close waves-effect waves-red btn red",onClick:function(t){return e.onclose(t)}},"Close")))}}]),t}(n.Component),Ye=Object(y.b)((function(e){return{isOpen:e.user_info.isModalOpen,p_registeration:e.user_info.register}}),(function(e){return{openModal:function(t){return e(T(t))},performRegister:function(t){return e((a=t,function(e){x.post("signUp/",a).then((function(t){e(F(!0,t.data))})).catch((function(t){return e(F(!1,t.response.data))}))}));var a}}}))(Ge),He=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.performlogincheck(),this.props.performonHomeLoad()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(Ye,null),r.a.createElement(W,null),r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0,component:De}),r.a.createElement(_.a,{path:"/:id",component:Pe})))}}]),t}(n.Component),ze=Object(y.b)(null,(function(e){return{performonHomeLoad:function(){return e(D())},performlogincheck:function(){return e((function(e){var t=localStorage.getItem("Token"),a=localStorage.getItem("Username");t&&e(U(!0,{username:a,token:t}))}))}}}))(He),Je=a(21),Ve=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),We=Object(_.f)(Ve),Xe={searchstring:"/?",pagenumber:1,isLoading:!1,genrelist:[],datalist:{count:"",next:"",previous:"",results:[]},moviedata:{},movieratingmessage:"",commonerror:""},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"singleHomeLoad":e=Object(g.a)({},e,{datalist:t.value,searchstring:t.searchstring,isLoading:!1});break;case"pagenumone":e=Object(g.a)({},e,{pagenumber:t.value,isLoading:!1});break;case"loading":e=Object(g.a)({},e,{commonerror:"",isLoading:t.value});break;case"getGenreList":var a;t.value&&(a=t.value.map((function(e){return{value:e.genre,inner:e.genre}}))),e=Object(g.a)({},e,{genrelist:a});break;case"goDetial":e=Object(g.a)({},e,{moviedata:t.value,isLoading:!1});break;case"PageLoadFail":e=Object(g.a)({},e,{commonerror:"Network Error",isLoading:!1});break;case"updateRating":var n=e.moviedata.Your_rating;"Successful"===t.value.message&&(n=t.value.newrating),e=Object(g.a)({},e,{moviedata:Object(g.a)({},e.moviedata,{Your_rating:n}),movieratingmessage:t.value.message})}return e},Ke={isModalOpen:!1,user:{username:"",isLoggedin:!1,token:"",errormessage:""},register:{usernameerror:"",passworderror:"",success:!1}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OpenModal":e=Object(g.a)({},e,{isModalOpen:t.value});break;case"doLogin":var a="";t.value.success||(a=t.value.logedindata.non_field_errors?t.value.logedindata.non_field_errors[0]:""),e=Object(g.a)({},e,{user:Object(g.a)({},e.user,{username:t.value.success?t.value.logedindata.username:"",token:t.value.success?t.value.logedindata.token:"",isLoggedin:!!t.value.success,errormessage:a})});break;case"doLogout":e=Object(g.a)({},e,{user:Object(g.a)({},e.user,{username:"",token:"",isLoggedin:!1})});break;case"Register":var n="",r="";t.value.success||(n=t.value.registerdata.username?t.value.registerdata.username[0]:"",r=t.value.registerdata.password?t.value.registerdata.password[0]:""),e=Object(g.a)({},e,{register:Object(g.a)({},e.register,{usernameerror:n,passworderror:r,success:!!t.value.success})})}return e},Ze={recommendations:[],error_message:""},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LoadRecommendations":var a="";t.value.success||(a="Network Failure"),e=Object(g.a)({},e,{recommendations:t.value.recommendations,error_message:a})}return e},et=a(47),tt=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Je.d)(Object(Je.a)(et.a)),at=Object(Je.c)({movie:Be,user_info:Qe,recommendations:$e}),nt=Object(Je.e)(at,tt);var rt=document.getElementById("root");i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement((function(){return r.a.createElement(y.a,{store:nt},r.a.createElement(v.a,null,r.a.createElement(We,null,r.a.createElement("div",{className:"App"},r.a.createElement(ze,null)))))}),null)),rt)}},[[49,1,2]]]);
//# sourceMappingURL=main.340634e6.chunk.js.map